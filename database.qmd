---
title: "Database Settings"
---

The default database for storing survey responses is [Supabase]({{< var url_supabase >}}). We plan to also support the ability to use your own database in the future.

## Step 1: Create your account 

Navigate to the [Supabase]({{< var url_supabase >}}) website and create an account. 

## Step 2: Create a project

Select "Start your project" on the main page or navigate to your dashboard and select "New Project".

<img src="images/screenshots/main_pageS3.png" alt="drawing" width="700"/>

## Step 3: Create a database

Create a database. Here you **must** use the password you created for your survey project (see the [Setting a Password](password.qmd) page). If you forgot the password you set earlier, you can run `sd_show_password()` in your R console to display it.

<img src="images/screenshots/main_pageS4.png" alt="drawing" width="700"/>

## Step 4: Find the DB parameters

While on your project dashboard select the settings gear in the bottom left, then select "Database".

<img src="images/screenshots/main_pageS5.png" alt="drawing" width="700"/>

<img src="images/screenshots/main_pageS6.png" alt="drawing" width="500"/>

## Step 5: Copy the DB parameters

Copy the all of the connection parameters to your database.

<img src="images/screenshots/main_pageS7.png" alt="drawing" width="700"/>

## Step 6: Update the arguments in `sd_database()`

Now that we've created our database and have gotten all the needed parameters we can now connect the database to our survey.

Taking a look at our code inside of our **survey.qmd** file you will notice five arguments in `sd_database()`. This is where you will replace the `NULL` values with the ones you copied from your database. The last argument, `table_name`, can be any name of your choosing.

```{r}
db <- sd_database(
  host       = NULL,
  db_name    = NULL,
  port       = NULL,
  user       = NULL,
  table_name = NULL
)
```

If you don't have a database setup yet, you can just leave the function blank and your survey will still run, just without any response data being stored:

```{r}
db <- sd_database()
```

## Example

An example of what the function should look like after you have updated all the parameters is below:

```{r}
db <- sd_database(
  host       = "aws-0-us-west-1.pooler.supabase.com", 
  db_name    = "postgres", # For the purpose of supabase, this will always be "postgres".
  port       = "1234", 
  user       = "postgres.UserValue",
  table_name = "my_table_name"
)
```

## Tada!!!

Going back to your Project dashboard and selecting *"Table Editor"* on the left hand bar tab you should see your table appear once your survey is run and interacted with atleast once.

